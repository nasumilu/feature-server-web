<form [formGroup]="options">
  <input type="hidden" formControlName="id">
  <div class="container">
    <alert group="datasource.module.alert_group"></alert>
    <div class="row justify-content-center">
      <div class="col-8">
        <div class="input-group mb-3">
          <div class="form-floating">
            <input id="datasource-name"
                   type="text"
                   [class]="options.controls['name'].touched && options.controls['name'].invalid ? 'form-control is-invalid' : 'form-control'"
                   placeholder formControlName="name">
            <label for="datasource-name">Name</label>
          </div>
        </div>
        <drivers required><label>Database</label></drivers>
      </div>
      <div class="col-4">
        <div class="form-floating fill mb-3">
          <textarea class="form-control fill" formControlName="comment" placeholder="Comments" id="datasource-comments"></textarea>
          <label for="datasource-comments">Comments</label>
        </div>
      </div>
    </div>
    <hr>
    <div class="row justify-content-center">
      <div class="col-9">
        <div class="input-group mb-3">
          <div class="form-floating">
            <input id="datasource-host"
                   type="text"
                   [class]="options.controls['host'].touched && options.controls['host'].invalid ? 'form-control is-invalid' : 'form-control'"
                   placeholder="Host"
                   formControlName="host">
            <label for="datasource-host">Host</label>
          </div>
        </div>
      </div>
      <div class="col-3">
        <div class="input-group mb-3">
          <div class="form-floating">
            <input id="datasource-port"
                   type="number"
                   [min]="0"
                   [step]="1"
                   [class]="options.controls['port'].touched && options.controls['port'].invalid ? 'form-control is-invalid' : 'form-control'"
                   placeholder="Port"
                   formControlName="port">
            <label for="datasource-port">Port</label>
          </div>
        </div>
      </div>
    </div>
    <div class="row justify-content-center">
      <div class="col">
        <div class="input-group mb-3">
          <div class="form-floating">
            <input id="datasource-dbname"
                   type="text"
                   [class]="options.controls['dbname'].touched && options.controls['dbname'].invalid ? 'form-control is-invalid' : 'form-control'"
                   placeholder
                   formControlName="dbname">
            <label for="datasource-dbname">Database Name</label>
          </div>
        </div>
      </div>
    </div>
    <div class="row justify-content-center">
      <div class="col">
        <div class="input-group mb-3">
          <div class="form-floating">
            <input id="datasource-username"
                   type="text"
                   [class]="options.controls['username'].touched && options.controls['username'].invalid ? 'form-control is-invalid' : 'form-control'"
                   placeholder
                   formControlName="username">
            <label for="datasource-username">Username</label>
          </div>
        </div>
      </div>
      <div class="col">
        <datasource-password required ><label>Password</label></datasource-password>
      </div>
    </div>
    <div class="row justify-content-center">
      <div class="d-flex col justify-content-start">
        <datasource-connection [datasource]="this"></datasource-connection>
      </div>
      <div class="d-flex col-6 justify-content-end">
        <save [datasource]="this"></save>
      </div>
    </div>
  </div>
</form>
